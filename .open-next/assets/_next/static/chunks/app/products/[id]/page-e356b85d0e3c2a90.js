(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[403],{1469:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{default:function(){return i},getImageProps:function(){return n}});let a=s(8229),r=s(8883),l=s(3063),d=a._(s(1193));function n(e){let{props:t}=(0,r.getImgProps)(e,{defaultLoader:d.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,s]of Object.entries(t))void 0===s&&delete t[e];return{props:t}}let i=l.Image},1487:(e,t,s)=>{Promise.resolve().then(s.bind(s,2209))},2209:(e,t,s)=>{"use strict";s.d(t,{default:()=>i});var a=s(5155),r=s(2115),l=s(6766),d=s(5695),n=s(2956);function i(e){let{productId:t}=e,[s,i]=(0,r.useState)(null),[o,c]=(0,r.useState)(0),[u,m]=(0,r.useState)(null),[b,x]=(0,r.useState)(!0),h=(0,d.useRouter)(),[p,f]=(0,r.useState)(!1),{addToCart:g,items:j}=(0,n._)();(0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/products/".concat(t));if(e.ok){let t=await e.json();i(t)}else console.error("Failed to fetch product")}catch(e){console.error("Error loading product:",e)}finally{x(!1)}})()},[t]);let v=(e,t)=>!!t&&j.some(s=>s.productId===e.id&&JSON.stringify(s.selectedMeasurement)===JSON.stringify(t));return b?(0,a.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-medium-brown"})}):s?(0,a.jsxs)(a.Fragment,{children:[p&&(0,a.jsxs)("div",{className:"fixed top-6 right-6 z-50 bg-dark-brown text-white px-6 py-4 rounded-lg shadow-lg w-[300px]",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsx)("div",{className:"font-semibold",children:"Product added to cart"}),(0,a.jsx)("button",{onClick:()=>f(!1),className:"text-white text-xl leading-none hover:text-gray-300 ml-4","aria-label":"Close",children:"\xd7"})]}),(0,a.jsx)("div",{className:"mt-2 h-1 bg-white/30 relative overflow-hidden rounded",children:(0,a.jsx)("div",{className:"absolute top-0 left-0 h-full bg-white animate-slidebar"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 relative",children:[(0,a.jsxs)("div",{className:"space-y-4 lg:sticky top-6 self-start",children:[(0,a.jsx)("div",{className:"aspect-square bg-white rounded-2xl overflow-hidden shadow-lg",children:(0,a.jsx)(l.default,{src:s.images[o]||"/placeholder.svg",alt:s.name,width:600,height:600,className:"w-full h-full object-cover"})}),s.images.length>1&&(0,a.jsx)("div",{className:"grid grid-cols-4 gap-3",children:s.images.map((e,t)=>(0,a.jsx)("button",{onClick:()=>c(t),className:"aspect-square rounded-lg overflow-hidden border transition-all duration-300 ".concat(o===t?"border-medium-brown shadow-lg":"border-pale-blonde hover:border-tan-blonde"),children:(0,a.jsx)(l.default,{src:e||"/placeholder.svg",alt:"".concat(s.name," thumbnail ").concat(t+1),width:150,height:150,className:"w-full h-full object-cover"})},t))})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-dark-brown mb-2",children:s.name}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,a.jsx)("span",{className:"bg-medium-brown text-white px-4 py-2 rounded-full text-sm font-medium",children:s.category}),(0,a.jsx)("span",{className:"bg-tan-blonde text-dark-brown px-4 py-2 rounded-full text-sm font-medium",children:s.brand})]})]}),(0,a.jsxs)("div",{className:"text-[#655856] leading-relaxed",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-dark-brown mb-3",children:"Description"}),s.table&&(0,a.jsx)("div",{className:"overflow-x-auto bg-pale-blonde  rounded-2xl p-6 shadow-md border border-tan-blonde mb-6",children:(0,a.jsx)("table",{className:"w-full text-left text-dark-brown",children:(0,a.jsx)("tbody",{children:Object.entries(s.table).map(e=>{let[t,s]=e;return(0,a.jsxs)("tr",{className:"border-b border-tan-blonde/30 last:border-none",children:[(0,a.jsx)("td",{className:"py-3 pr-6 font-medium capitalize text-medium-brown",children:t}),(0,a.jsx)("td",{className:"py-3 text-dark-brown",children:s})]},t)})})})}),(0,a.jsx)("p",{children:s.description})]}),s.advantages&&s.advantages.length>0&&(0,a.jsxs)("div",{className:"text-[#655856] leading-relaxed",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-dark-brown mb-3",children:"Advantages"}),(0,a.jsx)("ul",{className:"list-disc list-outside pl-4 space-y-2",children:s.advantages.map((e,t)=>(0,a.jsx)("li",{children:e},t))})]}),(0,a.jsxs)("div",{className:"bg-pale-blonde bg-opacity-50 rounded-2xl p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-dark-brown mb-4",children:"Select Specifications"}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"measurement",className:"block text-medium-brown font-medium mb-2",children:"Choose Size/Measurement:"}),(0,a.jsxs)("select",{id:"measurement",className:"w-full p-4 border border-tan-blonde rounded-lg focus:ring-2 focus:ring-medium-brown focus:border-transparent transition-all duration-300",onChange:e=>{let t=Number.parseInt(e.target.value);!isNaN(t)&&t>=0&&t<s.measurements.length?m(s.measurements[t]):m(null)},defaultValue:"",children:[(0,a.jsx)("option",{value:"",disabled:!0,children:"Select a size"}),s.measurements.map((e,t)=>{let s=Object.entries(e).map(e=>{let[t,s]=e;return"".concat(t,": ").concat(s)}).join(", ");return(0,a.jsx)("option",{value:t,children:s},t)})]})]}),u&&(0,a.jsxs)("div",{className:"bg-white rounded-lg p-4 mb-4",children:[(0,a.jsx)("h3",{className:"font-medium text-dark-brown mb-2",children:"Selected Specifications:"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(u).map(e=>{let[t,s]=e;return(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("span",{className:"font-medium text-medium-brown capitalize",children:[t.replace(/([A-Z])/g," $1").trim(),":"]}),(0,a.jsx)("span",{className:"text-dark-brown",children:s})]},t)})})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("button",{onClick:()=>{s&&u&&(g(s,u),f(!0),setTimeout(()=>f(!1),3e3))},disabled:!u||s&&v(s,u),className:"w-full btn-primary py-4 rounded-xl text-lg font-semibold shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:u?v(s,u)?"Already in Cart":"Add to Inquiry Cart":"Please Select a Size"}),s&&u&&v(s,u)&&(0,a.jsx)("p",{className:"text-medium-brown text-sm text-center",children:"This specification is already in your cart."}),(0,a.jsx)("button",{onClick:()=>h.push("/products"),className:"w-full bg-white text-dark-brown border border-tan-blonde py-4 rounded-xl text-lg font-semibold hover:bg-pale-blonde transition-all duration-300",children:"Back to Products"})]})]})]})]}):(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-dark-brown mb-4",children:"Product Not Found"}),(0,a.jsx)("p",{className:"text-medium-brown mb-6",children:"The product you're looking for doesn't exist."}),(0,a.jsx)("button",{onClick:()=>h.push("/products"),className:"btn-primary px-6 py-3 rounded-lg font-semibold",children:"Back to Products"})]})}},2956:(e,t,s)=>{"use strict";s.d(t,{CartProvider:()=>d,_:()=>n});var a=s(5155),r=s(2115);let l=(0,r.createContext)(void 0);function d(e){let{children:t}=e,[s,d]=(0,r.useState)([]);return(0,r.useEffect)(()=>{let e=localStorage.getItem("cart");if(e)try{d(JSON.parse(e))}catch(e){console.error("Failed to parse cart from localStorage",e)}},[]),(0,r.useEffect)(()=>{localStorage.setItem("cart",JSON.stringify(s))},[s]),(0,a.jsx)(l.Provider,{value:{items:s,addToCart:(e,t)=>{d(s=>[...s,{productId:e.id,name:e.name,category:e.category,brand:e.brand,image:e.images[0]||"/placeholder.svg",selectedMeasurement:t}])},removeFromCart:(e,t)=>{d(s=>s.filter(s=>s.productId!==e||t!==s.selectedMeasurement))},clearCart:()=>{d([])}},children:t})}function n(){let e=(0,r.useContext)(l);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}},5695:(e,t,s)=>{"use strict";var a=s(8999);s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},6766:(e,t,s)=>{"use strict";s.d(t,{default:()=>r.a});var a=s(1469),r=s.n(a)}},e=>{var t=t=>e(e.s=t);e.O(0,[63,441,684,358],()=>t(1487)),_N_E=e.O()}]);