(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[571],{1469:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{default:function(){return d},getImageProps:function(){return i}});let r=a(8229),s=a(8883),l=a(3063),n=r._(a(1193));function i(e){let{props:t}=(0,s.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,a]of Object.entries(t))void 0===a&&delete t[e];return{props:t}}let d=l.Image},4921:(e,t,a)=>{"use strict";a.d(t,{default:()=>o});var r=a(5155),s=a(2115),l=a(6766),n=a(5695),i=a(6874),d=a.n(i);function o(){let e=(0,n.useSearchParams)(),[t,a]=(0,s.useState)([]),[i,o]=(0,s.useState)([]),[c,u]=(0,s.useState)([]),[m,h]=(0,s.useState)([]),[f,b]=(0,s.useState)("All"),[x,g]=(0,s.useState)("All"),[p,w]=(0,s.useState)(""),[j,v]=(0,s.useState)(!0);return((0,s.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/brands"),t=(await e.json()).brands,a=await fetch("/api/categories"),r=await a.json();u(["All",...r]),h(["All",...t])}catch(e){console.error("Error loading initial data:",e)}})()},[]),(0,s.useEffect)(()=>{let t=e.get("brand"),a=e.get("category");t&&m.includes(t)&&b(t),a&&c.includes(a)&&g(a)},[e,m,c]),(0,s.useEffect)(()=>{let e=async()=>{v(!0);try{let e=await fetch("/api/products?brand=".concat(f,"&category=").concat(x)),t=await e.json();a(t),o(t)}catch(e){console.error("Error loading products:",e)}finally{v(!1)}};m.length>0&&c.length>0&&e()},[f,x,m,c]),(0,s.useEffect)(()=>{if(""===p.trim())o(t);else{let e=p.toLowerCase();o(t.filter(t=>t.name.toLowerCase().includes(e)||t.description.toLowerCase().includes(e)||t.brand.toLowerCase().includes(e)||t.category.toLowerCase().includes(e)))}},[p,t]),j)?(0,r.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-medium-brown"})}):(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[(0,r.jsx)("div",{className:"w-full lg:w-1/4",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 sticky top-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold mb-6 text-dark-brown",children:"Filters"}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{htmlFor:"search",className:"font-medium mb-2 text-medium-brown block",children:"Search Products"}),(0,r.jsx)("input",{type:"text",id:"search",placeholder:"Search by name, description...",className:"w-full p-3 border border-tan-blonde rounded-lg focus:ring-2 focus:ring-medium-brown focus:border-transparent transition-all duration-300",value:p,onChange:e=>w(e.target.value)})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"font-medium mb-3 text-medium-brown",children:"Category"}),(0,r.jsx)("select",{className:"w-full p-3 border border-tan-blonde rounded-lg focus:ring-2 focus:ring-medium-brown focus:border-transparent transition-all duration-300",value:x,onChange:e=>g(e.target.value),children:c.map(e=>(0,r.jsx)("option",{value:e,children:e},e))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium mb-3 text-medium-brown",children:"Brand"}),(0,r.jsx)("select",{className:"w-full p-3 border border-tan-blonde rounded-lg focus:ring-2 focus:ring-medium-brown focus:border-transparent transition-all duration-300",value:f,onChange:e=>b(e.target.value),children:m.map(e=>(0,r.jsx)("option",{value:e,children:e},e))})]})]})}),(0,r.jsx)("div",{className:"w-full lg:w-3/4",children:0===i.length?(0,r.jsx)("div",{className:"text-center py-12",children:(0,r.jsx)("p",{className:"text-medium-brown text-lg",children:"No products found matching your criteria."})}):(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8",children:i.map(e=>(0,r.jsxs)(d(),{href:"/products/".concat(e.id),className:"bg-white rounded-2xl overflow-hidden shadow-lg card-hover border border-pale-blonde",children:[(0,r.jsxs)("div",{className:"relative h-64 overflow-hidden",children:[(0,r.jsx)(l.default,{src:e.images[0]||"/placeholder.svg",alt:e.name,fill:!0,className:"object-cover transition-transform duration-300 hover:scale-110"}),(0,r.jsx)("div",{className:"absolute top-4 right-4 bg-medium-brown text-white px-3 py-1 rounded-full text-sm font-medium",children:e.category})]}),(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold mb-2 text-dark-brown",children:e.name}),(0,r.jsxs)("p",{className:"text-tan-blonde font-medium mb-2",children:["Brand: ",e.brand]}),(0,r.jsx)("p",{className:"text-medium-brown text-sm leading-relaxed line-clamp-3",children:e.description}),(0,r.jsx)("div",{className:"mt-4 flex items-center justify-between",children:(0,r.jsxs)("span",{className:"text-medium-brown font-medium",children:[e.measurements.length," size",1!==e.measurements.length?"s":""," available"]})})]})]},e.id))})})]})}},5695:(e,t,a)=>{"use strict";var r=a(8999);a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},6766:(e,t,a)=>{"use strict";a.d(t,{default:()=>s.a});var r=a(1469),s=a.n(r)},9251:(e,t,a)=>{Promise.resolve().then(a.bind(a,4921))}},e=>{var t=t=>e(e.s=t);e.O(0,[63,874,441,684,358],()=>t(9251)),_N_E=e.O()}]);